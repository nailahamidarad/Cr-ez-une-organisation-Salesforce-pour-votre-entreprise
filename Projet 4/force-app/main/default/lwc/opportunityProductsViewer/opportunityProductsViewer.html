<template>
    <lightning-card title={datatableTitle} icon-name="standard:opportunity">

        <template if:true={hasInsufficientStock}>
            <div class="slds-notify slds-notify_alert slds-alert_warning slds-text-align_left" role="alert">
                <span class="slds-text-body_small slds-text-heading_medium">
                    <lightning-formatted-rich-text value={quantityErrorMessage}></lightning-formatted-rich-text>
                </span>
            </div>
        </template>

        <template if:true={hasOpportunityProducts}>
            <lightning-datatable 
                data={opportunityProducts}
                columns={columns}
                key-field="Id"
                onrowaction={handleRowAction}>
            </lightning-datatable>
        </template>
        
        <template if:false={hasOpportunityProducts}>
            <div class="slds-text-align_left slds-p-around_medium">
                <lightning-formatted-rich-text value={noProductMessage}></lightning-formatted-rich-text>
            </div>
        </template>
    </lightning-card>
</template>
